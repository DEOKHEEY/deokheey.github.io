---
layout: post
title: "[Python] 날짜형"
date: "2018-09-01"
excerpt: "날짜형을 사용할 때는 항상 주의"
output: github_document
tag:
    [python, datetype]
comments: true
categories:
  Python
---


## datetime package

Python에서 날짜를 다룰 땐 `datetime`패키지를 사용하면 편리하다. `datetime` 패키지의 각 클래스들은 다음과 같다.

`datetime.datetime`: 날짜, 시간을 제공하는 class <br>
`datetime.date`: 날짜만 제공하는 class <br>
`datetime.time`: 시간만 제공하는 class <br>

아래를 보고 메소드를 익히자

```{python}
import datetime

print(datetime.date.today()) # 현재 시간
print(datetime.datetime.now())

print(datetime.date.today().year)
print(datetime.date.today().month)
print(datetime.date.today().day)

print(datetime.datetime.now().year)
print(datetime.datetime.now().month)
print(datetime.datetime.now().day)
print(datetime.datetime.now().hour)
print(datetime.datetime.now().minute)
print(datetime.datetime.now().second)
```

`datetime.datetime`이 쓰기 불편하면 아래와 같이 변수에 담아놓고 사용하면 편하다.

```{python}
d = datetime.date.today()
print(d.year)

n = datetime.datetime.now()
print(n.year)
print(n.microsecond) # 백만분의 1초 
print(n.date())
print(n.time())
print(n.weekday()) # 0:월 ~ 6:일
```

***

### 날짜 표현

기본적으로 날짜의 형식은 `int`타입이다. 하지만 원하는 날짜를 형식으로 추출하고 싶은 경우 `str`으로 변환해서 출력할 수 있다.

```{python}
d = datetime.datetime.now()

d.strftime('%Y') # 문자열로 원하는 날짜 형식 출력
d.strftime('%Y %m %d')
```

세부 날짜 형식은 다음과 같다.

```
%Y 년도 4자리
%m 달
%d 일
%B 영어 달 이름
%H 시간 24
%I 시간 12
%M 분
%S 초
%x 현재 날짜 월/일/년
%X 현재 시간 시:분:초
%A 요일
%a 요일
%c 날짜 시간
%p AM, PM
%j 누적 일자
%U 누적 주(일요일시작)
%W 누적 주(월요일 시작)
%w 요일(0~6)
%z 시간대
```
***

### date와 char

`strftime`은 date를 char로, `strptime`은 char를 date로 바꿔준다.

```{python}
# 원하는 형식으로 날짜 출력
print(datetime.datetime.strptime('2018-09-11 14:50:00','%Y-%m-%d %H:%M:%S'))

# combine
d = datetime.date(2018,9,11)
t = datetime.time(14,52,00)
print(datetime.datetime.combine(d,t)) # combine: 날짜정보와 시간정보를 합침

print(datetime.datetime(2018,5,24)-datetime.datetime(2018,11,22)) # 날짜 - 날짜

# timedelta
## time + timedelta
print(datetime.datetime(2018,9,11)+datetime.timedelta(days = 72)) # 72일 뒤 날짜
print(datetime.datetime(2018,9,11)+datetime.timedelta(days = 72, seconds = 3600))

## timedelta
print(datetime.timedelta(days=72))
print(datetime.timedelta(hours=1)) # 초단위로 표현됌
print(datetime.timedelta(minutes=1)) # 초단위로 표현됌
```

***

### 시간의 구간

어떤 프로그램의 수행 시간을 알고 싶을 시 프로그램 시작 시간에서 마지막 시간의 차를 구하면 된다. 예를 들어 다음과 같이 쓸 수 있다.


```{python}
# 프로그램 시작시간
start = datetime.datetime.now()

# 프로그램 끝 시간
end = datetime.datetime.now()

# 차이
delta = end - start

# 차이값을 몇 초인지를 return
delta.total_seconds()
```

***

## time package

1907년 1월 1일 0시 0분 0초를 기준으로 지난 시간을 초단위로 리턴해주는 함수이다. UTC(Universal Time Coordinated 세계 협정 표준시)를 이용해서 실수 형태로 반환해준다.

```{python}
import time

print(time.time())
print(time.localtime())
print(time.localtime().tm_year)
print(time.localtime().tm_mon)
print(time.localtime().tm_wday) # 현재요일 (0~6)
print(time.localtime().tm_yday) # 누적 일수 (1~365(366))
print(time.localtime().tm_isdst) # summer time일 경우 1, 아닐 경우 0, 그 외 -1
```

UTC 기준의 현재 시간은 다음과 같이 표현한다.

```{python}
print(time.gmtime()) # UTC 기준의 현재 시간
print(time.asctime())
print(time.ctime())
```

***

### time과 char

`strftime`을 사용하여 표현한다.

```{python}
time.strftime('%Y %z',time.localtime())
```

***

### calendar package

달력을 표현해주는 pacakge이다.

```{python}
import calendar

# 2018년 달력
print(calendar.calendar(2018))

# 2019년 달력
print(calendar.prcal(2019))

# 특정 달의 달력
print(calendar.prmonth(2018,9))

# 요일 출력
print(calendar.weekday(2018,9,11))

# 특정 날짜 정보 표현
print(calendar.monthrange(2018,9)) # 9월에 시작하는 요일(5, 토),  30일까지있음을 표현
```
