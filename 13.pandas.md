---
layout: post
title: "[Python] Pandas, Numpy"
date: "2018-09-01"
excerpt: "Seriesì™€ DataFrameì— ëŒ€í•´ ì•Œì•„ë³´ì"
output: github_document
tag:
    [python, series, dataframe, pandas, numpy]
comments: true
categories:
  Python
---

## pandas

- ë°ì´í„° ë¶„ì„ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬
- 1ì°¨ì›ë°°ì—´ : Series
- 2ì°¨ì›ë°°ì—´ : DataFrame (Rì—ì„œì˜ Data frameê³¼ ê°™ë‹¤) <br>


ê²½ìš°ì— ë”°ë¼ ë‹¤ìŒê³¼ ê°™ì´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.


{% highlight python %}
import pandas as pd # ëª¨ë“ˆ<U+653C><U+3E63>´ë¦„ì„ ì¶•ì•½<U+653C><U+3E63>–´ë¡<U+393C><U+3E63> ë³€ê²<U+623C><U+3E64>
{% endhighlight %}


{% highlight python %}
from pandas import Series, DataFrame # Pandas<U+653C><U+3E63>—<U+653C><U+3E63>„œ Series<U+653C><U+3E63><U+393C><U+3E39>€ DataFrameë§<U+383C><U+3E63> <U+653C><U+3E63>‚¬<U+653C><U+3E63>š©
{% endhighlight %}


***

### Series

1ì°¨ì›ë°°ì—´ë¡œ index(ìƒ‰ì¸) ë°°ì—´ì˜ ë°ì´í„°ì— ì—°ê´€ëœ ì´ë¦„ì„ ê°€ì§€ê³  ìˆë‹¤.


{% highlight python %}
from pandas import Series
s = Series([10,20,30,40,50])
print(s) # Series<U+653C><U+3E63>˜ <U+653C><U+3E64>˜•<U+653C><U+3E64>ƒœ
{% endhighlight %}



{% highlight text %}
## 0    10
## 1    20
## 2    30
## 3    40
## 4    50
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(s.index) # <U+653C><U+3E63>ƒ‰<U+653C><U+3E63>¸ <U+653C><U+3E63> •ë³<U+623C><U+3E34> <U+653C><U+3E64>™•<U+653C><U+3E63>¸
{% endhighlight %}



{% highlight text %}
## RangeIndex(start=0, stop=5, step=1)
{% endhighlight %}



{% highlight python %}
print(s.values) # ê°<U+393C><U+3E32> ì¶œë ¥
{% endhighlight %}



{% highlight text %}
## [10 20 30 40 50]
{% endhighlight %}



{% highlight python %}
s.index = ['a','b','c','d','e'] # index <U+653C><U+3E63>ˆ˜<U+653C><U+3E63> •
print(s) # indexê°€ ë¬¸ìë¡<U+393C><U+3E63> ë°”ë€Œì—ˆ<U+653C><U+3E62>‹¤.
{% endhighlight %}



{% highlight text %}
## a    10
## b    20
## c    30
## d    40
## e    50
## dtype: int64
{% endhighlight %}



{% highlight python %}
s2 = Series([10,20,30,40],index=['a','b','c','d']) # <U+653C><U+3E63>ƒ<U+653C><U+3E63>„± <U+653C><U+3E63>‹œ ë°”ë¡œ <U+653C><U+3E63>¸<U+653C><U+3E62>±<U+653C><U+3E63>Š¤ <U+653C><U+3E63>ƒ<U+653C><U+3E63>„± ê°€<U+653C><U+3E62>Š¥
print(s2)
{% endhighlight %}



{% highlight text %}
## a    10
## b    20
## c    30
## d    40
## dtype: int64
{% endhighlight %}

`Series`ëŠ” Rì—ì„œ `Vector`ì™€ ê°™ì´ ì‚¬ì¹™ì—°ì‚°ì´ ê°€ëŠ¥í•˜ë‹¤.


{% highlight python %}
from pandas import Series
s = Series([10,20,30,40,50])
print(s+10)
{% endhighlight %}



{% highlight text %}
## 0    20
## 1    30
## 2    40
## 3    50
## 4    60
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(s*10)
{% endhighlight %}



{% highlight text %}
## 0    100
## 1    200
## 2    300
## 3    400
## 4    500
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(s//3)
{% endhighlight %}



{% highlight text %}
## 0     3
## 1     6
## 2    10
## 3    13
## 4    16
## dtype: int64
{% endhighlight %}

#### Seriesì—ì„œì˜ ì¸ë±ìŠ¤ ì‚¬ìš©

`Series`ì˜ ì¸ë±ìŠ¤ ì‚¬ìš©ë²•ì„ ìµí˜€ ì•Œì•„ë³´ì


{% highlight python %}
from pandas import Series
s = Series([10,20,30,40],index=['a','b','c','d'])
print(s['a']) # <U+653C><U+3E63>¸<U+653C><U+3E62>±<U+653C><U+3E63>Š¤ <U+653C><U+3E64>™•<U+653C><U+3E63>¸
{% endhighlight %}



{% highlight text %}
## 10
{% endhighlight %}



{% highlight python %}
print(s[0]) # ê¸°ì¡´<U+653C><U+3E63>— <U+653C><U+3E63>•Œ<U+653C><U+3E62>˜<U+653C><U+3E62><U+383C><U+3E63>€ë¡<U+393C><U+3E63> <U+653C><U+3E63>¸<U+653C><U+3E62>±<U+653C><U+3E63>Š¤ <U+653C><U+3E63>‚¬<U+653C><U+3E63>š© ê°€<U+653C><U+3E62>Š¥
{% endhighlight %}



{% highlight text %}
## 10
{% endhighlight %}



{% highlight python %}
print(s[['a','b']]) # 2ê°<U+393C><U+3E63> <U+653C><U+3E63>´<U+653C><U+3E63>ƒ<U+653C><U+3E63>¼ <U+653C><U+3E62>• <U+653C><U+3E62><U+383C><U+3E63>€ê´„í˜¸ <U+653C><U+3E63>‚¬<U+653C><U+3E63>š©
{% endhighlight %}



{% highlight text %}
## a    10
## b    20
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(s[0:3]) # 0ë²ˆë<U+623C><U+3E36>€<U+653C><U+3E64>„° 3ë²ˆì‚¬<U+653C><U+3E63>´<U+653C><U+3E63>˜ <U+653C><U+3E63>¸<U+653C><U+3E62>±<U+653C><U+3E63>Š¤
{% endhighlight %}



{% highlight text %}
## a    10
## b    20
## c    30
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(s[-1]) # ë§ˆìãå<U+3E37>€ë§<U+383C><U+3E39> <U+653C><U+3E63>¸<U+653C><U+3E62>±<U+653C><U+3E63>Š¤
{% endhighlight %}



{% highlight text %}
## 40
{% endhighlight %}



{% highlight python %}
print(s[s>20]) # 20ë³´ë‹¤ <U+653C><U+3E64>° ê°’ì„ ì°¾ì„ <U+653C><U+3E62>•Œ
{% endhighlight %}



{% highlight text %}
## c    30
## d    40
## dtype: int64
{% endhighlight %}



{% highlight python %}
print('a' in s) # in <U+653C><U+3E63>—°<U+653C><U+3E63>‚°<U+653C><U+3E63> <U+653C><U+3E63>‚¬<U+653C><U+3E63>š©
{% endhighlight %}



{% highlight text %}
## True
{% endhighlight %}



{% highlight python %}
s['a'] = 100 # <U+653C><U+3E63>ˆ˜<U+653C><U+3E63> •
print(s) # <U+653C><U+3E63>ˆ˜<U+653C><U+3E63> •<U+653C><U+3E64>™•<U+653C><U+3E63>¸
{% endhighlight %}



{% highlight text %}
## a    100
## b     20
## c     30
## d     40
## dtype: int64
{% endhighlight %}



{% highlight python %}
s['e'] = 50 # ì¶”ê<U+623C><U+3E30>€
print(s) # ì¶”ê<U+623C><U+3E30>€ <U+653C><U+3E64>™•<U+653C><U+3E63>¸
{% endhighlight %}



{% highlight text %}
## a    100
## b     20
## c     30
## d     40
## e     50
## dtype: int64
{% endhighlight %}



{% highlight python %}
del s['e'] # <U+653C><U+3E63>‚­<U+653C><U+3E63> œ
print(s) # <U+653C><U+3E63>‚­<U+653C><U+3E63> œ <U+653C><U+3E64>™•<U+653C><U+3E63>¸
{% endhighlight %}



{% highlight text %}
## a    100
## b     20
## c     30
## d     40
## dtype: int64
{% endhighlight %}



{% highlight python %}
del s # ë³€<U+653C><U+3E63>ˆ˜ <U+653C><U+3E63>‚­<U+653C><U+3E63> œ
{% endhighlight %}

ì¤‘ìš”í•˜ë‹ˆ ë” ìµí˜€ë³´ì


{% highlight python %}
obj = Series([10,20,30,40],index=['a','b','c','d'])
print(obj['a'])
{% endhighlight %}



{% highlight text %}
## 10
{% endhighlight %}



{% highlight python %}
print(obj[0])
{% endhighlight %}



{% highlight text %}
## 10
{% endhighlight %}



{% highlight python %}
print(obj[1:3])
{% endhighlight %}



{% highlight text %}
## b    20
## c    30
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(obj['b':'d'])
{% endhighlight %}



{% highlight text %}
## b    20
## c    30
## d    40
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(obj[['a','c']])
{% endhighlight %}



{% highlight text %}
## a    10
## c    30
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(obj[[0,2]])
{% endhighlight %}



{% highlight text %}
## a    10
## c    30
## dtype: int64
{% endhighlight %}



{% highlight python %}
print(obj[obj<30])
{% endhighlight %}



{% highlight text %}
## a    10
## b    20
## dtype: int64
{% endhighlight %}

***

#### Dictionaryì„ Seriesë¡œ

Dictionary í˜•ì„ Seriesë¡œ ì‚¬ìš©í•´ë³´ì


{% highlight python %}
from pandas import Series
dict = {'a':10,'b':20,'c':30,'d':40} # dictonary <U+653C><U+3E63>ƒ<U+653C><U+3E63>„±
s = Series(dict)
print(s)
{% endhighlight %}



{% highlight text %}
## a    10
## b    20
## c    30
## d    40
## dtype: int64
{% endhighlight %}

ì›í•˜ëŠ” ì¸ë±ìŠ¤ë§Œ ì¶”ì¶œí•  ìˆ˜ ìˆë‹¤. `Dictionary` ë°ì´í„°ì—ì„œ ì›í•˜ëŠ” ë°ì´í„°ë§Œ ì¶œë ¥í•  ë•Œ ìœ ìš©í•˜ë‹¤. ì•„ë˜ ë‘ ì½”ë“œë¥¼ ë¹„êµí•´ë³´ë©´ ì•Œ ìˆ˜ ìˆë‹¤.


{% highlight python %}
dict = {'a':10,'b':20,'c':30,'d':40}
ix = {'a','b','c','d'}
s1 = Series(dict, index = ix)
print(s1)
{% endhighlight %}



{% highlight text %}
## d    40
## b    20
## c    30
## a    10
## dtype: int64
{% endhighlight %}


{% highlight python %}
import pandas as pd
dict = {'a':10,'b':20,'c':30,'d':40}
ix = {'a','b','c','z'}
s2 = Series(dict, index = ix)
print(s2)
{% endhighlight %}



{% highlight text %}
## b    20.0
## z     NaN
## c    30.0
## a    10.0
## dtype: float64
{% endhighlight %}



{% highlight python %}
print(pd.isnull(s2)) # NaNê°<U+393C><U+3E32> <U+653C><U+3E64>Œ<U+653C><U+3E62>‹¨
{% endhighlight %}



{% highlight text %}
## b    False
## z     True
## c    False
## a    False
## dtype: bool
{% endhighlight %}



{% highlight python %}
print(pd.notnull(s2))
{% endhighlight %}



{% highlight text %}
## b     True
## z    False
## c     True
## a     True
## dtype: bool
{% endhighlight %}

'z'ì¸ë±ìŠ¤ë¥¼ ë“¤ê³  ì˜¤ë ¤ê³  í•˜ì˜€ì§€ë§Œ 'z'ì˜ ê°’ì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë˜ì„œ `NaN`ì´ ë°œìƒí•œë‹¤. `NaN(Not a Number)`ëŠ” ì¸ë±ìŠ¤ ê°’ì„ ì°¾ì„ ìˆ˜ ì—†ì„ ê²½ìš°ì— `NaN`ìœ¼ë¡œ ì €ì¥ëœë‹¤. `isnull` í˜¹ì€ `notnull` ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ Booleanê°’ì„ ì–»ì„ ìˆ˜ ìˆë‹¤. <br>

ê°„ë‹¨í•œ ì˜ˆì‹œë¥¼ ì‚´í´ë³´ì.


{% highlight python %}
dict = {'<ec>„œ<ec>š¸':100,'ë¶€<ec>‚°':200,'ê´‘ì£¼':300,'<ec> œì£<bc>':400}
s = Series(dict)
city = ['<ec>„œ<ec>š¸','ê´‘ì£¼','<ec> œì£<bc>','<ec>¸ì²<9c>']
s = Series(dict, index = city)
print(s)
{% endhighlight %}



{% highlight text %}
## ¼­¿ï    100.0
## ±¤ÁÖ    300.0
## Á¦ÁÖ    400.0
## ÀÎÃµ      NaN
## dtype: float64
{% endhighlight %}



{% highlight python %}
s['<ec>¸ì²<9c>'] = 500
print(s)
{% endhighlight %}



{% highlight text %}
## ¼­¿ï    100.0
## ±¤ÁÖ    300.0
## Á¦ÁÖ    400.0
## ÀÎÃµ    500.0
## dtype: float64
{% endhighlight %}

***

### DataFrame

2ì°¨ì›ë°°ì—´ë¡œ í‘œí˜•ì‹ì˜ ìë£Œ êµ¬ì¡°ì´ë‹¤. ê° ì»¬ëŸ¼ì€ ì„œë¡œ ë‹¤ë¥¸ ì¢…ë¥˜ì˜ ê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.


{% highlight python %}
from pandas import DataFrame
df1 = DataFrame([[1,2,3],[4,5,6],[7,8,9]]) # ê´„í˜¸ <U+653C><U+3E63>•ˆ<U+653C><U+3E63>— ê´„í˜¸ê°€ <U+653C><U+3E64>‘œ<U+653C><U+3E64>˜„
print(df1)
{% endhighlight %}



{% highlight text %}
##    0  1  2
## 0  1  2  3
## 1  4  5  6
## 2  7  8  9
{% endhighlight %}

`Dictionary` ë°ì´í„°ë¥¼ `DataFrame`ìœ¼ë¡œ ë³€í™˜í•˜ê¸° í¸ë¦¬í•˜ë‹¤.


{% highlight python %}
data = {'<eb>„<ec>‹œ':['ê´‘ì£¼','ë¶€<ec>‚°','ê°•ì›','<ec>¸ì²<9c>'],
        '<ec>¸êµ¬ìˆ˜':[100,200,50,300]}
df2 = DataFrame(data)
print(df2)
# ë°”ë¡œ DataFrame<ec>œ¼ë¡œë„ ë§Œë“¤ <ec>ˆ˜ <ec>ˆ<eb>‹¤.
{% endhighlight %}



{% highlight text %}
##    µµ½Ã  ÀÎ±¸¼ö
## 0  ±¤ÁÖ  100
## 1  ºÎ»ê  200
## 2  °­¿ø   50
## 3  ÀÎÃµ  300
{% endhighlight %}



{% highlight python %}
df3 = DataFrame({'<eb>„<ec>‹œ':['ê´‘ì£¼','ë¶€<ec>‚°','ê°•ì›','<ec>¸ì²<9c>'],
                 '<ec>¸êµ¬ìˆ˜':[100,200,50,300]})
print(df3)
{% endhighlight %}



{% highlight text %}
##    µµ½Ã  ÀÎ±¸¼ö
## 0  ±¤ÁÖ  100
## 1  ºÎ»ê  200
## 2  °­¿ø   50
## 3  ÀÎÃµ  300
{% endhighlight %}

ì»¬ëŸ¼ì€ ì„œë¡œ ë‹¤ë¥¸ íƒ€ì…ìœ¼ë¡œ `ë„ì‹œ`ì™€ `ì¸êµ¬ìˆ˜`ë¡œ ì´ë£¨ì–´ì ¸ìˆê³  indexëŠ” sequenceí•˜ê²Œ ìƒì„±ë˜ì—ˆë‹¤.

***

#### DataFrameê³¼ Seriesì˜ ë¹„êµ

ìƒì„±í•˜ëŠ” ëª¨ìŠµì„ ë³´ê³  ì°¨ì´ë¥¼ ìµíˆì.


{% highlight python %}
s = Series([10,20,30,40],index = ['c','d','a','b'])
print(s) # Series
{% endhighlight %}



{% highlight text %}
## c    10
## d    20
## a    30
## b    40
## dtype: int64
{% endhighlight %}



{% highlight python %}
df = DataFrame([10,20,30,40],index = ['c','d','a','b'])
print(df) # DataFrame
{% endhighlight %}



{% highlight text %}
##     0
## c  10
## d  20
## a  30
## b  40
{% endhighlight %}

***

#### column ë‹¤ë£¨ê¸°

`.columns`ë¡œ ì»¬ëŸ¼ ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤. `del`ë¡œ ì‚­ì œí•˜ê³  ì¸ë±ì‹±ìœ¼ë¡œ ê°’ì„ ì¶”ê°€í•  ìˆ˜ ìˆë‹¤.









